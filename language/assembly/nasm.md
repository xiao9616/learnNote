# NASM

## 基本语法

###  -f  <format>  <filename> [-o <output>]

**format:**

bin:把文件'*.asm'汇编成纯二进制格式的文件'myfile.com'

elf:把文件'*.asm'汇编成'ELF'格式 的文件'myfile.o'

coff:十六进制代码的形式产生列表文件输出,并让代码显示在源代码的左侧

### -o

NASM 会为你的输出文件选择一个文件名;具体如何做取决于目标文件的格式,对于微软的目标文件格式('obj'和'win32')

Unix 的目标文件格式('aout','coff','elf'和'as86')它会替换成'.o', 对于'rdf',它会使用'.rdf',还有为'bin'格式

### -l

NASM 会为你产生一个源文件的列表文件,在里面,地址和产生的代码列在左边,实际的源代码(包括宏扩展,除了那些指定不需要在列表中扩展的宏,参阅 4.3.9)列在右边

### -M

用来向标准输出产生 makefile 依赖关系,可以把这些信息重定向到一个文件中以待进一步处理

```
nasm -M myfile.asm > myfile.dep
```

## 输出格式

### bin

纯二进制格式输出,'bin'没有缺省的输出文件扩展名:它只是把输入文件的扩展名去掉后作为输出文件的名字。

### obj

微软 OMF 目标文件,'obj'文件格式(因为历史的原因,NASM 叫它'obj'而不是'omf')是 MASM 和TASM 可以产生的一种格式,它是标准的提供给 16 位的 DOS 链接器用来产生'.EXE'文件的格式。它也是 OS/2 使用的格式。'obj'提供一个缺省的输出文件扩展名'.obj'

### win32

'win32'输出格式产生微软 win32 目标文件,可以用来给微软连接器进行连接,比如 Visual C++.'win32'提供缺省的输出文件扩展名'.obj'.

### coff

通用目标文件格式,'coff'提供一个缺省的输出文件扩展名'.o'.

### elf

'elf'输出格式产生'ELF32'(可执行可连接格式)目标文件,这种格式用在 Linux,Unix System V 中,包括 Solaris x86, UnixWare 和 SCO Unix. 'elf'提供一个缺省的输出文件扩展名'.o'.

### aout

'aout'格式产生'a.out'目标文件,这种格式在早期的 Linux 系统中使用(现在的Linux 系统一般使用 ELF 格式.'a.out'提供的缺省文件扩展名是'.o'.

